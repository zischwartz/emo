#!/usr/bin/env coffee

# todo, make this js
# require 'coffee-script/register'
Emo = require "./emo.coffee"

emo = new Emo

if process.argv.length > 2
	res = emo.lookup process.argv[2]
	if res then process.stdout.write res
	process.exit(0)
else
	process.stdin.resume()
	process.stdin.setEncoding 'utf8'

	process.stdin.on 'data', (data) ->
	  process.stdout.write emo.receive data

# process.on 'SIGINT', ->
#   console.log('Got a SIGINT. Goodbye cruel world')
#   process.exit(0)