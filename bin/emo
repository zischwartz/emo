#!/usr/bin/env node
require('coffee-script/register');
Emo = require('./../emo.coffee');

var emo = new Emo();

if (process.argv.length > 2) {
  var res = emo.lookup(process.argv[2]);
  if (res) {
    process.stdout.write(res);
  }
  process.exit(0);
} else
  process.stdin.resume();
  process.stdin.setEncoding('utf8');

  process.stdin.on('data', function(data) {
    process.stdout.write(emo.receive(data));
  });

// # process.on 'SIGINT', ->
// #   console.log('Got a SIGINT. Goodbye cruel world')
// #   process.exit(0)